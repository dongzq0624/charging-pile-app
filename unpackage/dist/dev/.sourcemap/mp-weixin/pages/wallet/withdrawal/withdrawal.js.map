{"version":3,"file":"withdrawal.js","sources":["pages/wallet/withdrawal/withdrawal.vue","C:/Users/localadmin/Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd2FsbGV0L3dpdGhkcmF3YWwvd2l0aGRyYXdhbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<jcode-navbar leftIcon=\"left\" title=\"余额退款\"></jcode-navbar>\r\n\t\t<view class=\"top\">\r\n\t\t\t<image src=\"/static/images/wallet/walletback.png\" class=\"bg-image\" mode=\"aspectFill\"></image>\r\n\t\t\t<view style=\"font-size: 70rpx;font-weight: 600;z-index: 2;\">{{numFilter(memberWallet.amount,2)}}</view>\r\n\t\t\t<view style=\"margin-bottom: 50rpx;display: flex;align-items: center;z-index: 2;\">\r\n\t\t\t\t<view style=\"margin-right: 10rpx;\">可用余额</view>\r\n\t\t\t\t<uni-icons type=\"help\" color=\"white\" size=\"20\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"card\">\r\n\t\t\t<view style=\"font-weight: 600;\">申请金额</view>\r\n\t\t\t<view class=\"input\">\r\n\t\t\t\t<view style=\"font-size: 40rpx;font-weight: 500;\">¥</view>\r\n\t\t\t\t<input @click=\"placeholder=''\"\r\n\t\t\t\t\tstyle=\"height: 27px;font-size: 17px;flex: 1;font-size: 40rpx;margin-left: 20rpx;\" placeholder-style=\"color: #CBCBCB;\"\r\n\t\t\t\t\ttype=\"digit\" v-model=\"money\" @input=\"checkNum\" :maxlength=\"maxlength\" @blur=\"blur\"\r\n\t\t\t\t\t:placeholder=\"placeholder\" />\r\n\t\t\t\t<view style=\"color: #F76548;font-size: 14px;\" @click=\"money=numFilter(memberWallet.amount,2)\">全部退款</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"grayLine\" style=\"margin-top: 30rpx;\"></view>\r\n\t\t\t<view style=\"margin-top: 30rpx;\">\r\n\t\t\t\t<button class=\"btn\" @click=\"submit\">申请退款</button>\r\n\t\t\t\t<button class=\"btn2\" style=\"margin-top: 20rpx;\"\r\n\t\t\t\t\t@click=\"navTo('/pages/wallet/walletRecord/walletRecord?tabStartIndex=2')\">退款记录</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 退款说明 -->\r\n\t\t\r\n\t\t<view class=\"card\" style=\"margin-top: 30rpx;\">\r\n\t\t\t<view style=\"text-align: center;width: 100%;color: #2E2E2E;font-size: 16px;font-weight: bold;line-height: 150%;margin-bottom: 20rpx;\">退款说明</view>\r\n\t\t\t<view class=\"text-item\">\r\n\t\t\t\t<view>1.&nbsp;&nbsp;</view>\r\n\t\t\t\t<view>原路退回到账时间由各充值渠道商家决定，请耐心等待；</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-item\">\r\n\t\t\t\t<view>2.&nbsp;&nbsp;</view>\r\n\t\t\t\t<view>本退款仅支持个人账户余额退款，如有疑问，可联系客服；</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-item\">\r\n\t\t\t\t<view>3.&nbsp;&nbsp;</view>\r\n\t\t\t\t<view>本规则的解释权归xxx所有。</view>\r\n\t\t\t</view>\r\n\t\r\n\t\t</view>\r\n\r\n\t\t<jcode-dialog ref=\"dialogRef\" @buttonBack=\"buttonBack\" type=\"dialog\" :message=\"message\"></jcode-dialog>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from \"vue\";\r\n\r\n\timport {\r\n\t\tonShow\r\n\t} from \"@dcloudio/uni-app\";\r\n\r\n\tconst {\r\n\t\tproxy\r\n\t} = getCurrentInstance();\r\n\r\n\tconst dialogRef = ref();\r\n\tconst money = ref(null);\r\n\tconst maxlength = ref(10);\r\n\tconst placeholder = ref('请输入退款金额');\r\n\tconst message = ref('');\r\n\r\n\tonShow(() => {\r\n\t\tproxy.refreshWallet()\r\n\t})\r\n\r\n\tconst blur = () => {\r\n\t\tif (money.value != null && money.value != '') {\r\n\t\t\tmoney.value = parseFloat(money.value)\r\n\t\t} else {\r\n\t\t\tplaceholder.value = '请输入退款金额'\r\n\t\t}\r\n\t}\r\n\r\n\tconst checkNum = (e) => {\r\n\t\tconsole.log('this.money', money.value)\r\n\t\tlet value = e.detail.value;\r\n\t\tlet dot = value.indexOf('.'); //包含小数点\r\n\t\tlet reg = /^[0-9]+$/; //正整数\r\n\t\tif (dot > -1) {\r\n\t\t\tmaxlength.value = dot + 3; //长度是小数点后两位\r\n\t\t\tif (value.length > dot + 3) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (reg.test(value)) { //如果是正整数不包含小数点\r\n\t\t\tmaxlength.value = 6;\r\n\t\t}\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (money.value <= 0) {\r\n\t\t\tproxy.msg('请填写正确金额')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tmessage.value = '您确认退款 ' + money.value + ' 元吗？'\r\n\t\tdialogRef.value.open()\r\n\t}\r\n\r\n\tconst buttonBack = async (e) => {\r\n\t\tdialogRef.value.close()\r\n\t\tif (e == 'right') {\r\n\t\t\tproxy.showLoading()\r\n\t\t\t\r\n\t\t\t//模拟退款接口\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tproxy.hideLoading()\r\n\t\t\t\tproxy.navTo(`/pages/wallet/success/success?navbarTitle=退款成功&message=申请退款将在2-3分钟内原路退回`)\r\n\t\t\t},1000)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #FFFCF4;;\r\n\t\tmin-height: 100vh;\r\n\t\t.top {\r\n\t\t\theight: 20vh;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tcolor: white;\r\n\t\t\tflex-direction: column;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.bg-image {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tbackground: white;\r\n\t\t\tmargin-top: -3vh;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\twidth: 94vw;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tbox-shadow: 0px 0px 10px 0px rgba(253, 226, 172, 0.3);\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tz-index: 2;\r\n\r\n\t\t\t.input {\r\n\t\t\t\tmargin-top: 40rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tline-height: 88rpx;\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tbackground: $uni-color-theme;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn2 {\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tline-height: 88rpx;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tbackground: #FFEFDD;\r\n\t\t\t\tcolor: #F76548;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.text-item{\r\n\t\tfont-family: HarmonyOS Sans SC;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: normal;\r\n\t\tline-height: 150%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: baseline;\r\n\t\tletter-spacing: normal;\r\n\t\tcolor: #CCA19D;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/qcxn/charging-pile-app/pages/wallet/withdrawal/withdrawal.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","onShow","uni"],"mappings":";;;;;;;;;;;;;;;;;;AAgEC,UAAM;AAAA,MACL;AAAA,IACA,IAAGA,cAAkB,mBAAA;AAEtB,UAAM,YAAYC,cAAAA;AAClB,UAAM,QAAQA,kBAAI,IAAI;AACtB,UAAM,YAAYA,kBAAI,EAAE;AACxB,UAAM,cAAcA,kBAAI,SAAS;AACjC,UAAM,UAAUA,kBAAI,EAAE;AAEtBC,kBAAAA,OAAO,MAAM;AACZ,YAAM,cAAe;AAAA,IACvB,CAAE;AAED,UAAM,OAAO,MAAM;AAClB,UAAI,MAAM,SAAS,QAAQ,MAAM,SAAS,IAAI;AAC7C,cAAM,QAAQ,WAAW,MAAM,KAAK;AAAA,MACvC,OAAS;AACN,oBAAY,QAAQ;AAAA,MACpB;AAAA,IACD;AAED,UAAM,WAAW,CAAC,MAAM;AACvBC,oBAAA,MAAA,MAAA,OAAA,gDAAY,cAAc,MAAM,KAAK;AACrC,UAAI,QAAQ,EAAE,OAAO;AACrB,UAAI,MAAM,MAAM,QAAQ,GAAG;AAC3B,UAAI,MAAM;AACV,UAAI,MAAM,IAAI;AACb,kBAAU,QAAQ,MAAM;AACxB,YAAI,MAAM,SAAS,MAAM;AAAG;AAAA,MAG5B;AACD,UAAI,IAAI,KAAK,KAAK,GAAG;AACpB,kBAAU,QAAQ;AAAA,MAClB;AAAA,IACD;AAED,UAAM,SAAS,YAAY;AAC1B,UAAI,MAAM,SAAS,GAAG;AACrB,cAAM,IAAI,SAAS;AACnB;AAAA,MACA;AAED,cAAQ,QAAQ,WAAW,MAAM,QAAQ;AACzC,gBAAU,MAAM,KAAM;AAAA,IACtB;AAED,UAAM,aAAa,OAAO,MAAM;AAC/B,gBAAU,MAAM,MAAO;AACvB,UAAI,KAAK,SAAS;AACjB,cAAM,YAAa;AAGnB,mBAAW,MAAI;AACd,gBAAM,YAAa;AACnB,gBAAM,MAAM,yEAAyE;AAAA,QACrF,GAAC,GAAI;AAAA,MAEN;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3HF,GAAG,WAAW,eAAe;"}
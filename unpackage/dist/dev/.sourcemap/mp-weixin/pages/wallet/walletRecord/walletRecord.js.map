{"version":3,"file":"walletRecord.js","sources":["pages/wallet/walletRecord/walletRecord.vue","C:/Users/localadmin/Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd2FsbGV0L3dhbGxldFJlY29yZC93YWxsZXRSZWNvcmQudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<jcode-navbar leftIcon=\"left\" title=\"钱包明细\"></jcode-navbar>\r\n\t\t<jcode-scroll ref=\"jcodeScrollRef\" class=\"scroll\" :scrollHeight=\"scrollHeight\" type='navList'\r\n\t\t\t:navTextList=\"navTextList\" :tabStartIndex=\"tabStartIndex\" :queryInfo=\"queryInfo\" @getData=\"getData\"\r\n\t\t\t@backData=\"backData\" emptyText=\"暂无记录\">\r\n\t\t\t<block v-for=\"(item,index) in list\">\r\n\t\t\t\t<view class=\"wallet-record-content\" v-if=\"tabCurrentIndex==0\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t<view class=\"wallet-record-top\">\r\n\t\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/wallet/chongdian.png\" class=\"wallet-img\"></image>\r\n\t\t\t\t\t\t\t充电消费\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 100%;background-color: #8080803b;height: 1rpx;margin-top: 10rpx;\"></view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-b\">\r\n\t\t\t\t\t\t消费金额：\r\n\t\t\t\t\t\t<view class=\"amt\" style=\"color: #FF5E5E;\"><span style=\"font-size: 30rpx;\">￥</span>\r\n\t\t\t\t\t\t\t{{numFilter(item.amount,2)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-g\">\r\n\t\t\t\t\t\t<view>编号:{{item.orderNo}}</view>\r\n\t\t\t\t\t\t{{item.operateTime}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-g\">\r\n\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wallet-record-content\" v-else-if=\"tabCurrentIndex==1\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t<view class=\"wallet-record-top\">\r\n\t\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/wallet/chongzhi.png\" class=\"wallet-img\"></image>\r\n\t\t\t\t\t\t\t人工充值\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 100%;background-color: #8080803b;height: 1rpx;margin-top: 10rpx;\"></view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-b\">充值余额：<view class=\"amt\" style=\"color: #1078FE;\"><span\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 30rpx;\">￥</span>\r\n\t\t\t\t\t\t\t{{numFilter(item.amount,2)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-g\">\r\n\t\t\t\t\t\t<view>编号:{{item.orderNo}}</view>\r\n\t\t\t\t\t\t{{item.operateTime}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-g\">\r\n\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wallet-record-content\" v-else-if=\"tabCurrentIndex==2\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t<view class=\"wallet-record-top\">\r\n\t\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/wallet/tuikuan.png\" class=\"wallet-img\"></image>钱包退款\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.refundStatus=='处理中'\" style=\"font-size: 28rpx;font-weight: 500;color:#DDAF5A\">\r\n\t\t\t\t\t\t\t{{item.refundStatus}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else-if=\"item.refundStatus=='退款成功'\"\r\n\t\t\t\t\t\t\tstyle=\"font-size: 28rpx;font-weight: 500;color:#1078FE\">\r\n\t\t\t\t\t\t\t{{item.refundStatus}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else style=\"font-size: 28rpx;font-weight: 500;color:#FF5E5E\">\r\n\t\t\t\t\t\t\t{{item.refundStatus}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 100%;background-color: #8080803b;height: 1rpx;margin-top: 10rpx;\"></view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-b\">\r\n\t\t\t\t\t\t退款金额：\r\n\t\t\t\t\t\t<view class=\"amt\" style=\"color: #DDAF5A;\"><span style=\"font-size: 30rpx;\">￥</span>\r\n\t\t\t\t\t\t\t{{numFilter(item.amount,2)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wallet-record-item-g\">\r\n\t\t\t\t\t\t<view>编号：{{item.orderNo}}</view>\r\n\t\t\t\t\t\t{{item.operateTime}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</jcode-scroll>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from \"vue\";\r\n\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonShow\r\n\t} from \"@dcloudio/uni-app\";\r\n\r\n\tconst {\r\n\t\tproxy\r\n\t} = getCurrentInstance();\r\n\r\n\tconst scrollHeight = ref('');\r\n\tconst navTextList = ref([\"扣减记录\", \"充值记录\", \"退款记录\"]);\r\n\tconst queryInfo = ref({\r\n\t\tpageNum: 1,\r\n\t\tpageSize: 10\r\n\t});\r\n\tconst tabStartIndex = ref(0);\r\n\tconst tabCurrentIndex = ref(0);\r\n\tconst transactionType = ref({});\r\n\tconst list = ref([]);\r\n\tconst jcodeScrollRef = ref();\r\n\r\n\tonLoad((option) => {\r\n\t\tif (option.tabStartIndex)\r\n\t\t\ttabStartIndex.value = option.tabStartIndex\r\n\t})\r\n\r\n\tonShow(async () => {\r\n\t\tscrollHeight.value = await proxy.calculateHeight('.scroll') + 'px'\r\n\t\tconsole.log('scrollHeight', scrollHeight)\r\n\t})\r\n\r\n\t//调接口获取数据\r\n\tconst getData = (e) => {\r\n\t\ttabCurrentIndex.value = e.tabCurrentIndex\r\n\t\tconsole.log('e', e)\r\n\t\tswitch (e.tabCurrentIndex) {\r\n\t\t\tcase 0:\r\n\t\t\t\t//模拟调用接口获取扣减记录\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcode: 0,\r\n\t\t\t\t\tmsg: \"\",\r\n\t\t\t\t\trows: [{\r\n\t\t\t\t\t\tamount: 1,\r\n\t\t\t\t\t\toperateTime: '2025-07-04 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000166\",\r\n\t\t\t\t\t\tremark: \"测试\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tamount: 2,\r\n\t\t\t\t\t\toperateTime: '2025-07-05 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000167\",\r\n\t\t\t\t\t\tremark: \"测试2\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\ttotal: \"2\"\r\n\t\t\t\t}\r\n\t\t\t\tjcodeScrollRef.value.backData(data)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t//模拟调用接口获取充值记录  rows为数据  total为单页总数  \r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcode: 0,\r\n\t\t\t\t\tmsg: \"\",\r\n\t\t\t\t\trows: [{\r\n\t\t\t\t\t\tamount: 3,\r\n\t\t\t\t\t\toperateTime: '2025-07-04 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000166\",\r\n\t\t\t\t\t\tremark: \"测试\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tamount: 4,\r\n\t\t\t\t\t\toperateTime: '2025-07-05 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000167\",\r\n\t\t\t\t\t\tremark: \"测试2\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\ttotal: \"2\"\r\n\t\t\t\t}\r\n\t\t\t\tjcodeScrollRef.value.backData(data)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t//模拟调用接口获取退款记录  rows为数据  total为单页总数  \r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcode: 0,\r\n\t\t\t\t\tmsg: \"\",\r\n\t\t\t\t\trows: [{\r\n\t\t\t\t\t\tamount: 3,\r\n\t\t\t\t\t\toperateTime: '2025-07-04 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000166\",\r\n\t\t\t\t\t\trefundStatus: '处理中',\r\n\t\t\t\t\t\tremark: \"测试\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tamount: 4,\r\n\t\t\t\t\t\toperateTime: '2025-07-05 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000167\",\r\n\t\t\t\t\t\trefundStatus: '退款成功',\r\n\t\t\t\t\t\tremark: \"测试2\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tamount: 10,\r\n\t\t\t\t\t\toperateTime: '2025-07-05 16:46:18',\r\n\t\t\t\t\t\torderNo: \"C250704660000167\",\r\n\t\t\t\t\t\trefundStatus: '退款失败',\r\n\t\t\t\t\t\tremark: \"测试2\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\ttotal: \"3\"\r\n\t\t\t\t}\r\n\t\t\t\tjcodeScrollRef.value.backData(data)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t//组件将数据拼接后传回父页面\r\n\tconst backData = (e) => {\r\n\t\tconsole.log('e', e)\r\n\t\ttabCurrentIndex.value = e.tabCurrentIndex\r\n\t\tlist.value = e.list\r\n\t\tconsole.log('this.list ', list.value)\r\n\t}\r\n\r\n\tonLoad(async (option) => {\r\n\t\tif (option.tabStartIndex) {\r\n\t\t\ttabStartIndex.value = option.tabStartIndex\r\n\t\t}\r\n\t})\r\n\r\n\tconst toDetail = (item) => {\r\n\t\tproxy.navTo(`/pages/wallet/recordDetail/recordDetail?tabCurrentIndex=${tabCurrentIndex.value}&currentOrder=${JSON.stringify(item)}`)\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.content {\r\n\t\theight: 100vh;\r\n\t\tbackground-color: $uni-color-back;\r\n\t\t// padding: 20rpx 3%;\r\n\t\t// box-sizing: border-box;\r\n\t\t// width: 100%;\r\n\t}\r\n\r\n\t.wallet-record-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin: 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground: white;\r\n\t\tpadding: 30rpx 30rpx 20rpx 30rpx;\r\n\t\tbox-shadow: 0px 0px 10px 0px rgba(253, 226, 172, 0.3);\r\n\r\n\t\t.wallet-record-top {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-weight: 600;\r\n\r\n\t\t\t.wallet-img {\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.wallet-record-item-b {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin-top: 15rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tmargin: 20rpx 0;\r\n\r\n\t\t\t.amt {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.wallet-record-item-g {\r\n\t\t\tfont-size: 25rpx;\r\n\t\t\tcolor: gray;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin-top: 15rpx;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/qcxn/charging-pile-app/pages/wallet/walletRecord/walletRecord.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","onLoad","onShow","uni"],"mappings":"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"}
{"version":3,"file":"recharge.js","sources":["pages/tabBar/recharge/recharge.vue","C:/Users/localadmin/Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFiQmFyL3JlY2hhcmdlL3JlY2hhcmdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"whitePage\" style=\"background-color: #FFFCF4; color: #;\">\r\n\t\t<jcode-navbar title=\"充值\"></jcode-navbar>\r\n\r\n\t\t<view class=\"walletcard\">\r\n\t\t\t<image src=\"@/static/images/wallet/walletback2.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t<view style=\"z-index: 1;\">\r\n\t\t\t\t当前余额(元)：\r\n\t\t\t</view>\r\n\t\t\t<view style=\"font-size: 55rpx;font-weight: bold;margin-top: 10rpx;z-index: 1;\">\r\n\t\t\t\t{{numFilter(memberWallet.amount||0,2)}}\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\t\tstyle=\"font-size: 30rpx;display: flex;justify-content: space-around;width: 100%;align-items: center;margin-top: 10rpx;z-index: 1;\">\r\n\t\t\t\t<view @click=\"isLoginToPage(`/pages/wallet/walletRecord/walletRecord`)\">扣减记录</view>\r\n\t\t\t\t<span style=\"font-size: 24rpx;\">|</span>\r\n\t\t\t\t<view @click=\"isLoginToPage(`/pages/wallet/walletRecord/walletRecord?tabStartIndex=1`)\">充值记录</view>\r\n\t\t\t\t<span style=\"font-size: 24rpx;\">|</span>\r\n\t\t\t\t<view @click=\"isLoginToPage(`/pages/wallet/walletRecord/walletRecord?tabStartIndex=2`)\">退款记录</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"rechargecard\">\r\n\t\t\t<view style=\"font-size: 32rpx;\">充值金额</view>\r\n\t\t\t<view\r\n\t\t\t\tstyle=\"border-bottom: 1px solid #F3F3F3;;width: 100%;margin-top: 20rpx;display: flex;height: 80px;align-items: center;\">\r\n\t\t\t\t<span style=\"font-size: 65rpx;font-weight: bold;\">￥</span>\r\n\t\t\t\t<input style=\"margin-left: 20rpx;font-size: 80rpx;width: 70%;font-weight: bold;height: 80%;\"\r\n\t\t\t\t\ttype=\"digit\" v-model=\"money\" @input=\"checkNum\" :maxlength=\"maxlength\" @blur=\"blur\" @focus=\"focus\"\r\n\t\t\t\t\tplaceholder=\"自定义金额\" placeholder-style=\"font-weight: 300;font-size:40rpx;\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"recharge-money\" style=\"display: block;margin-top: 20rpx;\">\r\n\t\t\t\t<view class=\"recharge-money-item\" v-for=\"(item,index) in moneyList\" :key=\"index\"\r\n\t\t\t\t\t:class=\"activeIndex == index?'active':''\" @click=\"selectMoney(index)\">\r\n\t\t\t\t\t<view class=\"recharge-item-money\">\r\n\t\t\t\t\t\t¥&nbsp;{{ item.money }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"paybutton\" @click=\"noMultipleClicks(rechargePay)\">立即支付</view>\r\n\r\n\t\t<jcode-tabBar currentPage=\"1\"></jcode-tabBar>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from \"vue\";\r\n\r\n\timport {\r\n\t\tonShow,\r\n\t\tonLoad\r\n\t} from \"@dcloudio/uni-app\";\r\n\r\n\r\n\tconst {\r\n\t\tproxy\r\n\t} = getCurrentInstance();\r\n\r\n\tconst money = ref(null);\r\n\tconst endChargeMoney = ref(10);\r\n\tconst maxlength = ref(10);\r\n\tconst moneyList = ref([{\r\n\t\t'id': 0,\r\n\t\t'money': 10\r\n\t}, {\r\n\t\t'id': 1,\r\n\t\t'money': 20\r\n\t}, {\r\n\t\t'id': 2,\r\n\t\t'money': 30\r\n\t}, {\r\n\t\t'id': 3,\r\n\t\t'money': 50\r\n\t}, {\r\n\t\t'id': 4,\r\n\t\t'money': 100\r\n\t}, {\r\n\t\t'id': 5,\r\n\t\t'money': 200\r\n\t}]);\r\n\tconst activeIndex = ref(0);\r\n\r\n\tconst focus = () => {\r\n\t\tactiveIndex.value = -1\r\n\t}\r\n\r\n\tconst blur = () => {\r\n\t\tif (money.value) {\r\n\t\t\tmoney.value = proxy.numFilter(money.value, 2)\r\n\t\t\tendChargeMoney.value = proxy.numFilter(money.value, 2)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tactiveIndex.value = 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst checkNum = (e) => {\r\n\t\tlet value = e.detail.value;\r\n\t\tlet dot = value.indexOf('.'); //包含小数点\r\n\t\tlet reg = /^[0-9]+$/; //正整数\r\n\t\tif (dot > -1) {\r\n\t\t\tmaxlength.value = dot + 3; //长度是小数点后两位\r\n\t\t}\r\n\t\tif (reg.test(value)) { //如果是正整数不包含小数点\r\n\t\t\tmaxlength.value = 6;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 选择充值金额 */\r\n\tconst selectMoney = (index) => {\r\n\t\tactiveIndex.value = index\r\n\t\tmoney.value = ''\r\n\t\tendChargeMoney.value = moneyList.value[index].money\r\n\t}\r\n\r\n\r\n\tonShow(() => {\r\n\t\tproxy.refreshWallet()\r\n\t})\r\n\r\n\tonLoad(async (option) => {\r\n\r\n\t})\r\n\r\n\tconst toWalletRecord = (e) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/wallet/walletRecord/walletRecord?tabStartIndex=${e}`\r\n\t\t})\r\n\t}\r\n\r\n\tconst rechargePay = async () => {\r\n\t\tif (endChargeMoney.value <= 0)\r\n\t\t\treturn\r\n\t\tproxy.navTo(`/pages/wallet/success/success?navbarTitle=充值成功&message=可在我的钱包中查看`)\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.walletcard {\r\n\t\tcolor: white;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\twidth: 95vw;\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.rechargecard {\r\n\t\tcolor: black;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbackground-color: white;\r\n\t\twidth: 95vw;\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\r\n\t\t.recharge-money {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t// overflow-x: scroll;\r\n\r\n\t\t\t.recharge-money-item:first-child {\r\n\t\t\t\tmargin-left: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.recharge-money-item {\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tbackground-color: #F6F6F6;\r\n\t\t\t\tfloat: left;\r\n\t\t\t\twidth: calc((95vw - 40rpx - 60rpx)/3);\r\n\t\t\t\theight: calc((95vw - 80rpx - 60rpx - 120rpx)/3);\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\r\n\t\t\t\t// margin: 20rpx 10rpx;\r\n\t\t\t\t// width: 250rpx;\r\n\t\t\t\t// height: 200rpx;\r\n\t\t\t\tborder: 2rpx solid #efefef;\r\n\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tbox-shadow: #f0f0f0 0px 1px 8px 0;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\r\n\t\t\t\t&:nth-child(3n) {\r\n\t\t\t\t\tmargin-right: 0rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:nth-child(3n-2) {\r\n\t\t\t\t\tmargin-left: 0rpx;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t.recharge-item-money {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.recharge-item-tip {\r\n\t\t\t\t\tpadding: 6rpx 20rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.active {\r\n\t\t\t\tborder: 1px solid $uni-color-theme;\r\n\t\t\t\tbackground: rgba(247, 101, 72, 0.2);\r\n\t\t\t\t;\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\tcolor: $uni-color-theme;\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.paybutton {\r\n\t\twidth: 95vw;\r\n\t\tpadding: 30rpx 0;\r\n\t\tmargin-top: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tbackground-color: $uni-color-theme;\r\n\t\tborder-radius: 35rpx;\r\n\t\tcolor: white;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/qcxn/charging-pile-app/pages/tabBar/recharge/recharge.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","onShow","onLoad"],"mappings":";;;;;;;;;;;;;;;;AA2DC,UAAM;AAAA,MACL;AAAA,IACA,IAAGA,cAAkB,mBAAA;AAEtB,UAAM,QAAQC,kBAAI,IAAI;AACtB,UAAM,iBAAiBA,kBAAI,EAAE;AAC7B,UAAM,YAAYA,kBAAI,EAAE;AACxB,UAAM,YAAYA,cAAAA,IAAI,CAAC;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,IACX,GAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACX,GAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACX,GAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACX,GAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACX,GAAI;AAAA,MACF,MAAM;AAAA,MACN,SAAS;AAAA,IACT,CAAA,CAAC;AACF,UAAM,cAAcA,kBAAI,CAAC;AAEzB,UAAM,QAAQ,MAAM;AACnB,kBAAY,QAAQ;AAAA,IACpB;AAED,UAAM,OAAO,MAAM;AAClB,UAAI,MAAM,OAAO;AAChB,cAAM,QAAQ,MAAM,UAAU,MAAM,OAAO,CAAC;AAC5C,uBAAe,QAAQ,MAAM,UAAU,MAAM,OAAO,CAAC;AAAA,MACrD,OACI;AACJ,oBAAY,QAAQ;AAAA,MACpB;AAAA,IACD;AAED,UAAM,WAAW,CAAC,MAAM;AACvB,UAAI,QAAQ,EAAE,OAAO;AACrB,UAAI,MAAM,MAAM,QAAQ,GAAG;AAC3B,UAAI,MAAM;AACV,UAAI,MAAM,IAAI;AACb,kBAAU,QAAQ,MAAM;AAAA,MACxB;AACD,UAAI,IAAI,KAAK,KAAK,GAAG;AACpB,kBAAU,QAAQ;AAAA,MAClB;AAAA,IACD;AAGD,UAAM,cAAc,CAAC,UAAU;AAC9B,kBAAY,QAAQ;AACpB,YAAM,QAAQ;AACd,qBAAe,QAAQ,UAAU,MAAM,KAAK,EAAE;AAAA,IAC9C;AAGDC,kBAAAA,OAAO,MAAM;AACZ,YAAM,cAAe;AAAA,IACvB,CAAE;AAEDC,kBAAM,OAAC,OAAO,WAAW;AAAA,IAE1B,CAAE;AAQD,UAAM,cAAc,YAAY;AAC/B,UAAI,eAAe,SAAS;AAC3B;AACD,YAAM,MAAM,kEAAkE;AAAA,IAC9E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1IF,GAAG,WAAW,eAAe;"}
{"version":3,"file":"order.js","sources":["pages/tabBar/order/order.vue","C:/Users/localadmin/Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFiQmFyL29yZGVyL29yZGVyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"whitePage\">\r\n\t\t<jcode-navbar title=\"订单\"></jcode-navbar>\r\n\r\n\t\t<jcode-navListScroll style=\"width: 100%;\" class=\"scroll\" :tabStartIndex=\"tabStartIndex\"\r\n\t\t\t:navTextList=\"navTextList\" :queryInfo=\"queryInfo\" :navPostDataList=\"navPostDataList\"\r\n\t\t\t:getDataUrl=\"getDataUrl\" @backData=\"backData\" :scrollHeight=\"scrollHeight\">\r\n\r\n\r\n\t\t\t<view class=\"context\" v-for=\"(item,index) in list\" @click=\"toOrder(item)\">\r\n\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t<image src=\"@/static/images/charge/orderLeft.png\" style=\"width: 40rpx;height: 40rpx;\"></image>\r\n\t\t\t\t\t<view style=\"font-size: 30rpx;max-width: 60%;margin-left: 10rpx;\">{{item.stationName}}</view>\r\n\t\t\t\t\t<view style=\"flex:1\"></view>\r\n\r\n\t\t\t\t\t<view class=\"status\" :style=\"getStyle(item.orderStatus)\">\r\n\t\t\t\t\t\t{{item.orderStatus}}\r\n\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view style=\"background-color: #8080803b;height: 1px;width: 100%;margin-top: 20rpx;\"></view>\r\n\r\n\t\t\t\t<view class=\"middle\">\r\n\t\t\t\t\t<view class=\"middle-item\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">订单编号：</view>\r\n\t\t\t\t\t\t<view @tap.stop=\"copyText(item.orderNo)\">{{item.orderNo}}\r\n\t\t\t\t\t\t\t<uni-icons fontFamily=\"iconfont\" size=\"18\" color=\"gray\">{{\"&#xe8b0;\"}}</uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"middle-item\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">充电枪号：</view>\r\n\t\t\t\t\t\t<view >{{item.gun_no}}</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<view class=\"middle-item\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">开始时间：</view>\r\n\t\t\t\t\t\t<view v-if=\"item.beginTime\">{{item.beginTime}}</view>\r\n\t\t\t\t\t\t<view v-else>未开始</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"middle-item\" v-if=\"item.stopTime\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">结束时间：</view>\r\n\t\t\t\t\t\t<view>{{item.endTime}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"middle-item\" v-if=\"item.timeSpend\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">充电时长：</view>\r\n\t\t\t\t\t\t<view>{{item.timeSpend}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"middle-item\" v-if=\"item.orderAmt\">\r\n\t\t\t\t\t\t<view style=\"color: #9A9A9A;\">订单金额：</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<span style=\"color: #FF5E5E;font-size: 40rpx;\">¥{{numFilter(item.orderAmt,2)}}</span>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t<view style=\"display: flex;color:#ed6c1c ;font-size: 26rpx;justify-content: center;margin-top: 20rpx;\">\r\n\t\t\t\t\t查看详情\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</jcode-navListScroll>\r\n\t\t<jcode-tabBar currentPage=\"3\"></jcode-tabBar>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance\r\n\t} from \"vue\";\r\n\r\n\timport {\r\n\t\tonShow\r\n\t} from \"@dcloudio/uni-app\";\r\n\r\n\tconst getDataUrl = ref('') //调用接口\r\n\tconst navTextList = ref(['全部', '充电中', '已完成'])\r\n\tconst navPostDataList = ref([\r\n\t\t{ memberId: uni.getStorageSync('member_id') },\r\n\t\t{\r\n\t\t\tmemberId: uni.getStorageSync('member_id'),\r\n\t\t\torderStatus: 3\r\n\t\t},\r\n\t\t{\r\n\t\t\tmemberId: uni.getStorageSync('member_id'),\r\n\t\t\torderStatus: 5\r\n\t\t},\r\n\t])\r\n\r\n\tconst tabStartIndex = ref(0);\r\n\tconst list = ref([{\r\n\t\tbeginTime: \"2025-06-26 18:11:30\",\r\n\t\tcreateTime: \"2025-06-26 18:11:29\",\r\n\t\tendReasons: \"用户小程序主动关停\",\r\n\t\tendTime: \"2025-06-26 18:11:38\",\r\n\t\tgunSortNo: \"01\",\r\n\t\tid: \"148345705702883329\",\r\n\t\torderAmt: 5.12,\r\n\t\torderNo: \"OR2506260007\",\r\n\t\torderStatus: \"充电中\",\r\n\t\tstationName: \"曙光大厦内部测试充电站\",\r\n\t\tstrategyType: \"1\",\r\n\t\tstrategyValue: null,\r\n\t\ttimeSpend: \"<1分钟\"\r\n\t},\r\n\t{\r\n\t\tbeginTime: \"2025-06-26 18:11:30\",\r\n\t\tcreateTime: \"2025-06-26 18:11:29\",\r\n\t\tendReasons: \"用户小程序主动关停\",\r\n\t\tendTime: \"2025-06-26 18:11:38\",\r\n\t\tgunSortNo: \"01\",\r\n\t\tid: \"148345705702883329\",\r\n\t\torderAmt: 5.22,\r\n\t\torderNo: \"OR2506260007\",\r\n\t\torderStatus: \"启动失败\",\r\n\t\tstationName: \"曙光大厦内部测试充电站\",\r\n\t\tstrategyType: \"2\",\r\n\t\tstrategyValue: 5,\r\n\t\ttimeSpend: \"<1分钟\"\r\n\t},\r\n\t{\r\n\t\tbeginTime: \"2025-06-26 18:11:30\",\r\n\t\tcreateTime: \"2025-06-26 18:11:29\",\r\n\t\tendReasons: \"用户小程序主动关停\",\r\n\t\tendTime: \"2025-06-26 18:11:38\",\r\n\t\tgunSortNo: \"01\",\r\n\t\tid: \"148345705702883329\",\r\n\t\torderAmt: 5.32,\r\n\t\torderNo: \"OR2506260007\",\r\n\t\torderStatus: \"充电结束\",\r\n\t\tstationName: \"曙光大厦内部测试充电站\",\r\n\t\tstrategyType: \"1\",\r\n\t\tstrategyValue: null,\r\n\t\ttimeSpend: \"<1分钟\"\r\n\t}]);  //模拟数据\r\n\r\n\r\n\tconst queryInfo = ref({\r\n\t\tpageNum: 1,\r\n\t\tpageSize: 5\r\n\t})\r\n\tconst {\r\n\t\tproxy\r\n\t} = getCurrentInstance();\r\n\r\n\tconst scrollHeight = ref('')\r\n\tonShow(async () => {\r\n\t\t//计算高度\r\n\t\tlet sysInfo = uni.getSystemInfoSync();\r\n\t\t//屏幕高度 - 顶部导航栏 - 底部导航栏 - 顶部navList栏 - 底部提升高度 （为完整展示底部加载更多数据的提示文字）\r\n\t\tscrollHeight.value = (sysInfo.windowHeight - sysInfo.safeAreaInsets.top - 55 - 40 - 20) + 'px';\r\n\t\tconsole.log('scrollHeight', scrollHeight.value)\r\n\t})\r\n\r\n\t//组件将数据拼接后传回父页面\r\n\tconst backData = (e) => {\r\n\t\tconsole.log('backData', e)\r\n\t\tlist.value = e\r\n\t}\r\n\r\n\tconst getStyle = (orderStatus) => {\r\n\t\tif (orderStatus == '充电结束')\r\n\t\t\treturn 'background-color: #12A1FE;'\r\n\t\telse if (orderStatus == '充电中')\r\n\t\t\treturn 'background-color:#1ab394;'\r\n\t\telse if (orderStatus == '启动失败')\r\n\t\t\treturn 'background-color:#F76548;'\r\n\t\telse\r\n\t\t\treturn 'background-color:gray;'\r\n\t}\r\n\r\n\tfunction toOrder(item) {\r\n\t\tif (item.orderStatus == '充电中') {\r\n\t\t\tproxy.navTo(`/sub_charging/charge/charging/charging?id=${item.id}`)\r\n\t\t} else {\r\n\t\t\tproxy.navTo(`/sub_charging/order/orderDetails?order=${JSON.stringify(item)}`)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.card {\r\n\t\twidth: 95vw;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tbox-shadow: 0px 0px 10px 0px rgba(253, 226, 172, 0.3);\r\n\r\n\t\t&-top {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.no {\r\n\t\t\t\tcolor: gray;\r\n\t\t\t}\r\n\r\n\t\t\t.status {\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tpadding: 6rpx 15rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&-middle {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.context {\r\n\t\tborder-radius: 16px;\r\n\t\tfont-size: 15px;\r\n\t\tbackground-color: white;\r\n\t\tbox-shadow: 0px 0px 10px 0px rgba(253, 226, 172, 0.3);\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 30rpx;\r\n\r\n\t\t.top {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: flex-start;\r\n\r\n\t\t\t.status {\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tpadding: 6rpx 15rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.middle {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t.middle-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.xia {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\timage {\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/qcxn/charging-pile-app/pages/tabBar/order/order.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","getCurrentInstance","onShow"],"mappings":";;;;;;;;;;;;;;;;;;;;AA4EC,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,cAAcA,cAAAA,IAAI,CAAC,MAAM,OAAO,KAAK,CAAC;AAC5C,UAAM,kBAAkBA,cAAAA,IAAI;AAAA,MAC3B,EAAE,UAAUC,cAAAA,MAAI,eAAe,WAAW,EAAG;AAAA,MAC7C;AAAA,QACC,UAAUA,cAAAA,MAAI,eAAe,WAAW;AAAA,QACxC,aAAa;AAAA,MACb;AAAA,MACD;AAAA,QACC,UAAUA,cAAAA,MAAI,eAAe,WAAW;AAAA,QACxC,aAAa;AAAA,MACb;AAAA,IACH,CAAE;AAED,UAAM,gBAAgBD,kBAAI,CAAC;AAC3B,UAAM,OAAOA,cAAAA,IAAI;AAAA,MAAC;AAAA,QACjB,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,WAAW;AAAA,QACX,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,SAAS;AAAA,QACT,aAAa;AAAA,QACb,aAAa;AAAA,QACb,cAAc;AAAA,QACd,eAAe;AAAA,QACf,WAAW;AAAA,MACX;AAAA,MACD;AAAA,QACC,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,WAAW;AAAA,QACX,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,SAAS;AAAA,QACT,aAAa;AAAA,QACb,aAAa;AAAA,QACb,cAAc;AAAA,QACd,eAAe;AAAA,QACf,WAAW;AAAA,MACX;AAAA,MACD;AAAA,QACC,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,WAAW;AAAA,QACX,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,SAAS;AAAA,QACT,aAAa;AAAA,QACb,aAAa;AAAA,QACb,cAAc;AAAA,QACd,eAAe;AAAA,QACf,WAAW;AAAA,MACX;AAAA,IAAA,CAAC;AAGF,UAAM,YAAYA,cAAAA,IAAI;AAAA,MACrB,SAAS;AAAA,MACT,UAAU;AAAA,IACZ,CAAE;AACD,UAAM;AAAA,MACL;AAAA,IACA,IAAGE,cAAkB,mBAAA;AAEtB,UAAM,eAAeF,cAAG,IAAC,EAAE;AAC3BG,kBAAAA,OAAO,YAAY;AAElB,UAAI,UAAUF,oBAAI;AAElB,mBAAa,QAAS,QAAQ,eAAe,QAAQ,eAAe,MAAM,KAAK,KAAK,KAAM;AAC1FA,oBAAY,MAAA,MAAA,OAAA,uCAAA,gBAAgB,aAAa,KAAK;AAAA,IAChD,CAAE;AAGD,UAAM,WAAW,CAAC,MAAM;AACvBA,oBAAAA,MAAY,MAAA,OAAA,uCAAA,YAAY,CAAC;AACzB,WAAK,QAAQ;AAAA,IACb;AAED,UAAM,WAAW,CAAC,gBAAgB;AACjC,UAAI,eAAe;AAClB,eAAO;AAAA,eACC,eAAe;AACvB,eAAO;AAAA,eACC,eAAe;AACvB,eAAO;AAAA;AAEP,eAAO;AAAA,IACR;AAED,aAAS,QAAQ,MAAM;AACtB,UAAI,KAAK,eAAe,OAAO;AAC9B,cAAM,MAAM,6CAA6C,KAAK,EAAE,EAAE;AAAA,MACrE,OAAS;AACN,cAAM,MAAM,0CAA0C,KAAK,UAAU,IAAI,CAAC,EAAE;AAAA,MAC5E;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjLF,GAAG,WAAW,eAAe;"}
{"version":3,"file":"buuug7-simple-datetime-picker.js","sources":["uni_modules/buuug7-simple-datetime-picker/components/buuug7-simple-datetime-picker/buuug7-simple-datetime-picker.vue","C:/Users/localadmin/Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovcWN4bi96eWQtemRjLWFwcF8xLjEvdW5pX21vZHVsZXMvYnV1dWc3LXNpbXBsZS1kYXRldGltZS1waWNrZXIvY29tcG9uZW50cy9idXV1Zzctc2ltcGxlLWRhdGV0aW1lLXBpY2tlci9idXV1Zzctc2ltcGxlLWRhdGV0aW1lLXBpY2tlci52dWU"],"sourcesContent":["<template>\r\n  <view class=\"buuug7-simple-datetime-picker\" v-if=\"done\">\r\n    <view\r\n      class=\"mask\"\r\n      :class=\"{ show: open }\"\r\n      @touchmove.stop.prevent\r\n      catchtouchmove=\"true\"\r\n    >\r\n    </view>\r\n    <view class=\"wrap\" :class=\"{ show: open }\">\r\n      <view class=\"picker-header\" @touchmove.stop.prevent catchtouchmove=\"true\">\r\n        <view class=\"btn-picker cancel\" @click=\"open = false\">取消</view>\r\n        <view class=\"btn-picker submit\" @click=\"_onSubmit\">确定</view>\r\n      </view>\r\n      <view class=\"picker-body\">\r\n        <picker-view :value=\"value\" @change=\"_onChange\">\r\n          <picker-view-column v-if=\"timeHide[0]\">\r\n            <view class=\"column-item\" v-for=\"item in years\" :key=\"item\">\r\n              {{ item + timeLabel[0] }}\r\n            </view>\r\n          </picker-view-column>\r\n          <picker-view-column v-if=\"timeHide[1]\">\r\n            <view class=\"column-item\" v-for=\"item in months\" :key=\"item\">\r\n              {{ formatNum(item) + timeLabel[1] }}\r\n            </view>\r\n          </picker-view-column>\r\n          <picker-view-column v-if=\"timeHide[2]\">\r\n            <view class=\"column-item\" v-for=\"item in days\" :key=\"item\">\r\n              {{ formatNum(item) + timeLabel[2] }}\r\n            </view>\r\n          </picker-view-column>\r\n          <picker-view-column v-if=\"timeHide[3]\">\r\n            <view class=\"column-item\" v-for=\"item in hours\" :key=\"item\">\r\n              {{ formatNum(item) + timeLabel[3] }}\r\n            </view>\r\n          </picker-view-column>\r\n          <picker-view-column v-if=\"timeHide[4]\">\r\n            <view class=\"column-item\" v-for=\"item in minutes\" :key=\"item\">\r\n              {{ formatNum(item) + timeLabel[4] }}\r\n            </view>\r\n          </picker-view-column>\r\n          <picker-view-column v-if=\"timeHide[5]\">\r\n            <view class=\"column-item\" v-for=\"item in seconds\" :key=\"item\">\r\n              {{ formatNum(item) + timeLabel[5] }}\r\n            </view>\r\n          </picker-view-column>\r\n        </picker-view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"buuug7-simple-datetime-picker\",\r\n  props: {\r\n    startYear: {\r\n      type: Number,\r\n      default: 2000,\r\n    },\r\n    endYear: {\r\n      type: Number,\r\n      default: 2099,\r\n    },\r\n    timeLabel: {\r\n      type: Array,\r\n      default: () => [\"年\", \"月\", \"日\", \"时\", \"分\", \"秒\"],\r\n    },\r\n    timeHide: {\r\n      type: Array,\r\n      default: () => [true, true, true, true, true, false],\r\n    },\r\n    timeInit: {\r\n      type: Number,\r\n      default: new Date().valueOf(),\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      open: false,\r\n      years: [],\r\n      months: [],\r\n      days: [],\r\n      hours: [],\r\n      minutes: [],\r\n      seconds: [],\r\n      year: \"\",\r\n      month: \"\",\r\n      day: \"\",\r\n      hour: \"\",\r\n      minute: \"\",\r\n      second: \"\",\r\n      value: [0, 0, 0, 0, 0, 0],\r\n      done: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    currentDatetime() {\r\n      return new Date(this.timeInit);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.init();\r\n  },\r\n\r\n  watch: {\r\n    month() {\r\n      this.initDays();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    init() {\r\n      this.initYears();\r\n      this.initMonths();\r\n      this.initDays();\r\n      this.initHours();\r\n      this.initMinutes();\r\n      this.initSeconds();\r\n      this.setSelectValue();\r\n      this.done = true;\r\n    },\r\n\r\n    initYears() {\r\n      const years = [];\r\n      for (let year = this.startYear; year <= this.endYear; year++) {\r\n        years.push(year);\r\n        if (this.currentDatetime.getFullYear() === year) {\r\n          this.$set(this.value, 0, year - this.startYear);\r\n        }\r\n      }\r\n      this.years = years;\r\n    },\r\n\r\n    initMonths() {\r\n      const months = [];\r\n      for (let month = 1; month <= 12; month++) {\r\n        months.push(month);\r\n        if (this.currentDatetime.getMonth() + 1 === month) {\r\n          this.$set(this.value, 1, month - 1);\r\n        }\r\n      }\r\n      this.months = months;\r\n    },\r\n\r\n    initDays() {\r\n      const value = this.value;\r\n      const selectedYear = this.years[value[0]];\r\n      const selectedMonth = this.months[value[1]];\r\n      const days = [];\r\n      const totalDays = new Date(selectedYear, selectedMonth, 0).getDate();\r\n      for (let day = 1; day <= totalDays; day++) {\r\n        days.push(day);\r\n        if (this.currentDatetime.getDate() === day) {\r\n          this.$set(value, 2, day - 1);\r\n        }\r\n      }\r\n      this.days = days;\r\n    },\r\n\r\n    initHours() {\r\n      const hours = [];\r\n      for (let hour = 0; hour <= 23; hour++) {\r\n        hours.push(hour);\r\n        if (this.currentDatetime.getHours() === hour) {\r\n          this.$set(this.value, 3, hour);\r\n        }\r\n      }\r\n      this.hours = hours;\r\n    },\r\n\r\n    initMinutes() {\r\n      const minutes = [];\r\n      for (let minute = 0; minute < 60; minute++) {\r\n        minutes.push(minute);\r\n        if (this.currentDatetime.getMinutes() === minute) {\r\n          this.$set(this.value, 4, minute);\r\n        }\r\n      }\r\n      this.minutes = minutes;\r\n    },\r\n\r\n    initSeconds() {\r\n      const seconds = [];\r\n      for (let second = 0; second < 60; second++) {\r\n        seconds.push(second);\r\n        if (this.currentDatetime.getSeconds() === second) {\r\n          this.$set(this.value, 5, second);\r\n        }\r\n      }\r\n      this.seconds = seconds;\r\n    },\r\n\r\n    show() {\r\n      this.open = true;\r\n    },\r\n\r\n    hide() {\r\n      this.open = false;\r\n    },\r\n\r\n    _onChange(e) {\r\n      this.value = e.detail.value;\r\n      this.setSelectValue();\r\n    },\r\n\r\n    setSelectValue() {\r\n      const v = this.value;\r\n\r\n      this.year = this.years[v[0]];\r\n      this.month = this.months[v[1]];\r\n      this.day = this.days[v[2]];\r\n      this.hour = this.hours[v[3]];\r\n      this.minute = this.minutes[v[4]];\r\n      this.second = this.seconds[v[5]];\r\n    },\r\n\r\n    _onSubmit() {\r\n      const {\r\n        year,\r\n        month,\r\n        day,\r\n        hour,\r\n        minute,\r\n        second,\r\n        formatNum,\r\n        timeHide,\r\n        timeLabel,\r\n      } = this;\r\n      const result = {\r\n        year: timeHide[0] ? formatNum(year) : \"\",\r\n        month: timeHide[1] ? formatNum(month) : \"\",\r\n        day: timeHide[2] ? formatNum(day) : \"\",\r\n        hour: timeHide[3] ? formatNum(hour) : \"\",\r\n        minute: timeHide[4] ? formatNum(minute) : \"\",\r\n        second: timeHide[5] ? formatNum(second) : \"\",\r\n      };\r\n\r\n      this.$emit(\"submit\", result);\r\n      this.hide();\r\n    },\r\n\r\n    formatNum(num) {\r\n      return num < 10 ? \"0\" + num : num + \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n$transition: all 0.3s ease;\r\n$primary: #488ee9;\r\n\r\n.buuug7-simple-datetime-picker {\r\n  position: relative;\r\n  z-index: 999;\r\n  picker-view {\r\n    height: 100%;\r\n  }\r\n  .mask {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    visibility: hidden;\r\n    opacity: 0;\r\n    transition: $transition;\r\n    &.show {\r\n      visibility: visible;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  .wrap {\r\n    z-index: 1001;\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    transition: $transition;\r\n    transform: translateY(100%);\r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  .picker-header {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 8px 8px;\r\n    background-color: darken(#fff, 2%);\r\n    background-color: #fff;\r\n  }\r\n  .picker-body {\r\n    width: 100%;\r\n    height: 420rpx;\r\n    overflow: hidden;\r\n    background-color: #fff;\r\n  }\r\n  .column-item {\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .btn-picker {\r\n    position: relative;\r\n    display: inline-block;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    line-height: 2;\r\n    -webkit-tap-highlight-color: transparent;\r\n    overflow: hidden;\r\n    background-color: #eee;\r\n    font-size: 14px;\r\n    border-radius: 3px;\r\n    color: #000;\r\n    cursor: pointer;\r\n  }\r\n  .btn-picker.submit {\r\n    background-color: $primary;\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import Component from 'D:/qcxn/zyd-zdc-app_1.1/uni_modules/buuug7-simple-datetime-picker/components/buuug7-simple-datetime-picker/buuug7-simple-datetime-picker.vue'\nwx.createComponent(Component)"],"names":[],"mappings":"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"}